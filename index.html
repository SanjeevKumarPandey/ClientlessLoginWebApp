<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="LoginWebApp">
    <meta name="author" content="Sanjeev Pandey">
    <meta name="version=" content="3.3.0">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Clientless Sample JS App</title>
    <link href="./Asset_files/css/bootstrap.css" rel="stylesheet">
    <link href="./Asset_files/css/style.css" rel="stylesheet">
    <link href="./Asset_files/css/toggle.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="./Asset_files/img/Adobe-Logo-Small.png">
    <script src="./Asset_files/js/jquery.min.js.download"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="./Asset_files/js/tracking.js"></script>
</head>

<body>
    <div class="container-fluid">
        <div class="row" id="t1" style="background-color:transparent;">
            <div class=" col-xs-12 col-sm-12 col-md-12 col-lg-12" id="t2" style="background-color:transparent;">
                <header class="App-header">
                    <div class="row">
                        <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5" id="t3" style="background-color:transparent;">
                            <div class="row">
                                <div class="smnone col-xs-4 col-sm-4 col-md-4 col-lg-3" id="t4" style="background-color:transparent;">
                                    <img src='./Asset_files/img/ptlogo.png' class="App-logo" alt="logo" />
                                </div>
                                <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5" id="t5" style="background-color:transparent;">
                                    <h1 class="App-title" style="display:inline;">TVE Clientless WebApp <small style="color:#fffae6;">v3.3.0</small></h1>
                                </div>
                                <div class="smnone col-xs-3 col-sm-3 col-md-3 col-lg-3" id="t6" style="background-color:transparent;">
                                    <label class="switch">
                                        <input id="envm" type="checkbox" onclick="boxDisable($(this))" checked>
                                        <span class="slider round"></span>
                                        <p id='env' style="display:inline-block; margin-left: 110%;">PROD</p>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" id="t7" style="background-color:transparent;">
                            <div class="row">
                                <div class="smnone col-xs-10 col-sm-10 col-md-10 col-lg-10" id="t8" style="background-color:transparent;">
                                    <code>HOW TO USE:<small style="color:#3700B3;" id="dir"> Generate {REGCODE}, and enter {REQUESTOR ID}, Hit <\Authenticate>. 
If record is available > MVPD Picker is created. Picking the provider sets {mso} id; 
Click Login to authenticate.</small></code>
                                </div>
                                <div class="smnone col-xs-2 col-sm-2 col-md-2 col-lg-2" id="t9" style="background-color:transparent;">
                                    <label class="switch">
                                        <input type="checkbox" onclick="toggleTheme($(this))" checked>
                                        <span class="slider2 round"></span>
                                        <p id='theme' style="display:inline-block; margin-left: 110%;">DEFAULT</p>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-8 col-md-8 col-lg-8" style="background-color:transparent;">
                <h1 class="vertical-test-lr" id="flowname1" style="display:none;">2nd Screen Flow</h1>
                <div class="row">
            <div class="col-sm-6 col-md-6 col-lg-6" id="t10" style="background-color:transparent;">
                <div id="mpicker" style="width: 90%; border: 0px solid green; border-radius: 5px; padding: 15px;margin: 25px 0px 0px 10%">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <h5>MVPD Picker</h5>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <div id="mvpdPicker"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6" id="t11" style="background-color:transparent;">
                <div class="login-form" id="t13">
                    <input type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                background-color: lightgray;" name="regcode" placeholder="REGCODE" id="regcode">
                    <input type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                background-color: lightgray;" name="requestor" placeholder="REQUESTOR ID" id="requestor">
                    <button type="button" class="login-stuff" onclick="regRecord(document.getElementById('requestor').value, document.getElementById('regcode').value)" style="width:auto; background-color:#3700B3;">Authenticate</button>
                    <button type="button" class="login-stuff" id='test' onclick="checkauthn(document.getElementById('requestor').value, document.getElementById('regcode').value)" style="width:auto; background-color:#3700B3;">Check Auth</button>
                    <br><br>
                    <button type="button" class="login-stuff" id="create" style="width:auto; color:#000000; background-color:#BB83FC;">Logs <i class="fa fa-download"></i></button>
                    <button type="button" class="login-stuff" id="logout_btn" style="width:auto;" onclick="logout()">Logout</button>
                    <p id="unauths">true</p>
                    <h5 id="unauthe" class="animate"></h5>
                    <!-- <div id="mvpdPicker"></div> -->
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12"><em class="clheader">Console Logs</em>
                <textarea cols="50" rows="4" name="comment" class='tb' id='textbox'></textarea>
                <!-- <fieldset>
                    <legend>{}</legend>
                </fieldset> -->
            </div>
        </div>
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4" id="t12" style="background-color:transparent;">
                <div class="login-form" id="reg">

                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#AUTHN">REGCODE</a></li>
                        <li><a data-toggle="tab" href="#AUTHZ">AUTHZ</a></li>
                        <li><a data-toggle="tab" href="#tempPass">TEMP PASS</a></li>
                    </ul>

                    <div class="tab-content" id="t14">
                        <div id="AUTHN" class="tab-pane fade in active">
                            <div class="animate">
                                <div id="container3">
                                    <input type="text" class="custom" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgrey;" name="Device-Id" placeholder="Device ID (Required)" id="Device-Id">
                                    <input type="text" class="custom" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgrey;" name="User-Agent" placeholder="User-Agent (Optional)" id="User-Agent">
                                    <input type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgray;" name="REQID" placeholder="REQUESTOR ID (Required)" id="REQID"><br>
                                    <div id="apgticker" style="width: 90%; border: 0px solid #3700B3; border-radius: 5px; padding: 5px;">
                                        <div class="row">
                                            <div class="col-sm-4 col-md-4 col-lg-4" id="t15" style="background-color:transparent;">
                                                <br><label class="switch">
                                                    <input type="checkbox" onclick="toggleKeyShow($(this))" unchecked>
                                                    <span class="slider3 round"></span>
                                                </label>
                                            </div>
                                            <div class="col-sm-8 col-md-8 col-lg-8" id="t16" style="background-color:transparent;">
                                                <h5>Use Different APIGEE Keys</h5>
                                            </div>
                                        </div>
                                        <input type="text" style="border-radius: 5px; border-right: 6px solid #3700B3;
                                        background-color: lightgray; display: none;" name="PUBLIC_KEY" placeholder="PUBLIC KEY" id="PUBLIC_KEY">
                                        <input type="text" style="border-radius: 5px; border-right: 6px solid #3700B3;
                                        background-color: lightgray; display: none;" name="PRIV_KEY" placeholder="PRIVATE KEY" id="PRIV_KEY">
                                    </div>
                                    <br>
                                    <button type="button" class="login-stuff" onclick="paramSet()" style="width:auto; background-color:#3700B3;">Set</button>
                                    <button id="reg_btn" class="login-stuff" style="width:auto; display:none; background-color:#3700B3;">Generate Regcode</button>
                                    <br>
                                    <h5 style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Your REGCODE is here! &#8595;</h5>
                                    <canvas id="canvas" width="270%" height="80%" style="border:1px solid #d3d3d3;">
                                        Your browser does not support the HTML5 canvas tag.
                                    </canvas>
                                    <!-- <div style="width: 90%; border: 1px solid green; border-radius: 5px; padding: 5px;"> -->
                                        <!-- <h5 id="unauthe" class="animate"></h5> -->
                                    <!-- </div> -->
                                    <div id="footer" class="text-center">
                                        <div class="credits">
                                           <code>Created</code> by <a href="mailto:sanpande@adobe.com?cc=sanpande@adobe.com&subject=PT%20Clientless%20App%20Feedback&body=Please%20type%20your%20comments%20below%20: target="_top>Sanjeev Pandey</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="AUTHZ" class="tab-pane fade">
                            <h3>Authorization</h3>
                            <div style="width: 77%; background-color:#fffae6; border-radius: 5px; padding: 5px;">
                            <h5>To change device-Id/User-Agent set them on REGCODE pane.</h5>
                        </div>
                            <input type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgray;" name="REQIDZ" placeholder="REQUESTOR (Required)" id="REQIDZ"><br>
                            <input type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgray;" name="RES" placeholder="RESOURCE (Required)" id="RESID"><br>
                            
                            <button id="authz_btn" type="button" class="login-stuff" onclick="authorize()" style="width:auto; background-color:#3700B3;">Authorize</button>
                        </div>
                        <div id="tempPass" class="tab-pane fade">
                            <div style="width: 77%; background-color:#fffae6; border-radius: 5px; padding: 5px;">
                                <h5>FreePreview using TeamPass. Set deviceId & Requestor on REGCODE pane</h5>
                            </div>
                            <input class="fw_stuff" type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgray;" name="DOMAIN" placeholder="Domain (Required)" id="domain">
                            <input class="fw_stuff" type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgray;" name="RESF" placeholder="RESOURCE (Required)" id="RESIDF">
                            <input class="fw_stuff" type="text" style="border-radius: 5px; border-left: 6px solid #3700B3;
                                    background-color: lightgray;" name="TEMPPASS_MVPD" placeholder="TempPass_MVPD (Required)" id="TMPPASS_MVPD">
                            <button id="freepreview_btn" type="button" class="login-stuff" onclick="tempPass()" style="width:auto; margin-top: 2px; margin-bottom: 5px;  background-color:#3700B3;">Get FreePreview</button>
                            <div>
                            <!-- <a id="thumbnail"><img src="./Asset_files/img/secure-layer-icon.png"></a>
                            <video width="320" height="240" controls>-->
                                <!-- <source src="https://amd-ssl.cdn.turner.com/toon/big/ads/2016/05/26/2V47J_576x324.mp4" type="video/mp4"> -->
                                <!-- <source src="movie.ogg" type="video/ogg"> -->
                                <!-- <source src="./Asset_files/video/700_.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                              </video>
                            </div>
                            <div id="entitlement_lock">Content Locked!</div>                               -->
                            <p style="font-size: smaller; font-style: italic;">sanpande.2018</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script src="https://www.gstatic.com/firebasejs/5.8.6/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBK4GG83HhIUIjPfgNwU-FSCSbVI0m0d2k",
    authDomain: "clientless-8351e.firebaseapp.com",
    databaseURL: "https://clientless-8351e.firebaseio.com",
    projectId: "clientless-8351e",
    storageBucket: "clientless-8351e.appspot.com",
    messagingSenderId: "26307033026"
  };
  firebase.initializeApp(config);
</script>
    <script src="./Asset_files/js/app.js"></script>
    <script src="./Asset_files/js/backend.js"></script>
    <script src="./Asset_files/js/download.js"></script>
    <script src="./Asset_files/js/settings.js"></script>
</body>

</html>